Deformation to the Normal Cone
===

# An outline of blowup

## Blow-up algebra (Rees algebra)

Given a ring $R$ with ideal $I\subset R$, we define the blow-up algebra (Rees algebra) for $R$ at $I$ to be the $R$-graded algebra

$$ Bl_I(R)=R\oplus I\oplus I^2\oplus\cdots $$

where the summand $I^n$ is in degree $n$. Let $a\in I$ a (non-zero) element. Denote $a^{(1)}$ the exact element $a$  viewed as an element in degree $1$ in $Bl_I(R)$. Then we define the affine blowup algebra $R[\frac{I}{a}]$ to be the degree $0$ part of $Bl_I(R)[(a^{(1)})^{-1}]$. Namely, this is the ring of elements in the form of $x/a^n$ where $x\in I^n$. Two representatives $x/a^n$ and $y/a^m$ are equal if and only if $a^k(a^mx-a^ny)=0$ for some $k\geq 0$. There is a canonical morphism from $R$ to $R[\frac{I}{a}]$ in the trivial way, sending $a\in R$ to the element at degree $0$.

Following the notation, we have

- The image of $a$ in $R[\frac{I}{a}]$ is a non-zerodivisor.
- $IR[\frac{I}{a}]=aR[\frac{I}{a}]$.
- $R$ and $R[\frac{I}{a}]$ are isomorphic on local $D(a)$.

Proof. If $a\cdot(x/a^n)=0$ for some $x\in I^n$, we have $ax/(a^{n+1})=0$. Furthermore, $a^n\cdot(x/a^n)=x$ so $a$ generates $I$ in $R[\frac{I}{a}]$.



## Blow-up algebra as local structure of blowups

For a scheme $X$ together with an ideal sheaf $\mathcal{I}$ corresponding to a closed subscheme $Z\subset X$ we define the blowup of $X$ along the center $Z$ to be

$$ b:Proj_X(\oplus_{n\geq 0}\mathcal{I}^n)\rightarrow X. $$

The process of blowing up a scheme, in abstract sense, is to turn a chosen closed local into a *divisor*, that is, a locally principle ideal which is also an invertible sheaf. We can see this from the definition.

### [0804](https://stacks.math.columbia.edu/tag/0804)
Following the preceding notations, let $U=spec(A)$ be an affine open subscheme of $X$ and $I\subset A$ corresponding to $\mathcal{I}_U$. If $b:X'\rightarrow X$ is the blowup along closed local cut out by $\mathcal{I}$, then there is a canonical isomorphism

$$ b^{-1}(U)=Proj(\oplus_{d\geq 0}I^d) $$

identifying $b^{-1}(U)$ with the projective spectrum of Rees algebra $Bl_I(A)$. Moreover, $b^{-1}(U)$ have a covering by affine locals $D_+(a)$ where $a\in I$, which is identical to spectrum of $A[\frac{I}{a}]$. 

Specifically, according to the definition, blowing up along an empty subscheme $Z$ we may get $Proj_X(\mathcal{O}_X[t])$ which is just identical to $X$. Then using 0804 it's obvious that a blowup $b:X'\rightarrow X$ along $Z\subset X$ restricting to $X\backslash Z$ is $id$. From the properties of Rees algebra we know that the exceptional divisor, namely $b^{-1}Z$ is indeed an effective cartier divisor. 

### [0805](https://stacks.math.columbia.edu/tag/0805)
Moreover, blowup commutes with flat base change.

An interesting topic is Raynaud & Gruson's flatification by strict transformation. 

## R&G flatification
To be continues

# Deformation to the normal cone

## Some notations

Following Fulton's notation, for a graded $\mathcal{O}_X$-algebra $S^\bullet=S^0\oplus S^1\oplus\cdots$ on a scheme $X$, such that the canonical map from $\mathcal{O}_X$ to $S^0$ is an isomorphism, and $S^\bullet$ is locally generated by sections of degree $1$, we associate the *cone* of $S^\bullet$

$$ C=Spec(S^\bullet) $$
 
with canonical projection $\pi:C\rightarrow X$, and the *projective cone*

$$ P(C)=Proj(S^\bullet) $$

with canonical projection $p:P(C)\rightarrow X$. 

Let $z$ be a free variable, $S^\bullet[z]$ the graded algebra whose nth graded piece is

$$ S^n\oplus S^{n-1}z\oplus\cdots\oplus S^1z^{n-1}\oplus S^0z^n. $$

The corresponding cone is denote $C\oplus 1$, and the cone $P(C\oplus 1)$ is called the projective completion of $C$. Now $z$ is a section in $\mathcal{O}(1)$ hence defines a hypersurface which is clearly isomorphic to $P(C)$, which is then called the *hyperplane at infinity*. Cutting out this subscheme, the rest part is $D_+(z)$ and hence the spectrum of algebra $S^0\oplus S^1/z\oplus S^2/z^2\oplus\cdots$, hence isomorphic to $C$. 

A vector bundlle $E\rightarrow X$ is the cone associated to the graded sheaf $Sym(\mathcal{E}^\vee)$, where $\mathcal{E}$ is the sheaf of sections of $E\rightarrow X$. The projective bundle of $\mathcal{E}$ is $P(E)=Proj(Sym\mathcal{E}^\vee)$. Under this notation, there is a canonical surjetion $p^*\mathcal{E}^\vee\rightarrow\mathcal{O}(1)$ on $P(E)$, which identifies $\mathcal{O}(-1)$ as a subsheaf of $p^*\mathcal{E}$, which is then called the *tautological line bundle* of $P(E)$. Given morphism $f:T\rightarrow X$, to factor $f$ through $p:P(E)\rightarrow X$ is equivalant to specify a line sub-bundle of $f^*\mathcal{E}$, namely the pullback of the tautological bundle of $P(E)$. 

Let $X$ be a subscheme of $Y$, defined by ideal sheaf $\mathcal{I}$. The *normal cone* $C_XY$ is the cone over $X$ defined by the graded $\mathcal{O}_X$ algebra $\oplus_{n\geq 0}\mathcal{I}^n/\mathcal{I}^{n+1}$. This construction commutes with flat base changes. If $X\rightarrow Y$ is a quasi-regular immersion of codimension $d$, the graded algebra is then isomorphic to $Sym(\mathcal{I}/\mathcal{I}^2)$, which is the associated vector bundle of the dual of $\mathcal{I}/\mathcal{I}^2$. We may denote the cone of $Sym(\mathcal{I}/\mathcal{I})$ by $N_XY$. Remember the blowup of $Y$ at $X$ is defined by $Proj(\oplus_{n\geq 0}\mathcal{I}^n)$, then the pullback of 


## Deformation to the normal cone

### 
